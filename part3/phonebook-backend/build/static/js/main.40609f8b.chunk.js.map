{"version":3,"sources":["services/phonebook.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","Filter","filter","handleFilterChange","value","onChange","PersonForm","addPerson","newPerson","handlePersonFormChange","onSubmit","name","number","type","Persons","persons","handleDelete","person","toLowerCase","includes","nameIncludesFilter","map","onClick","Notification","notification","className","message","App","useState","setPersons","setNewPerson","setFilter","setNotification","useEffect","phonebookService","initialPersons","event","target","preventDefault","returnedPerson","concat","setTimeout","catch","error","personObject","window","confirm","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.40609f8b.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n}\n\nexport default {\n  getAll, create, remove, update\n}\n","const Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      filter show with\n      <input value={filter} onChange={handleFilterChange}/>\n    </div>\n  )\n}\n\nexport default Filter;\n","const PersonForm = ({ addPerson, newPerson, handlePersonFormChange }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name:\n        <input\n          name='name'\n          value={newPerson.name}\n          onChange={handlePersonFormChange}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          name='number'\n          value={newPerson.number}\n          onChange={handlePersonFormChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;\n","const Persons = ({ persons, filter, handleDelete }) => {\n  const nameIncludesFilter = (person) => person.name.toLowerCase().includes(filter.toLowerCase());\n\n  return (\n    <ul>\n      {persons\n        .filter((person) => nameIncludesFilter(person))\n        .map((person) =>\n          <li key={person.id}>\n            {person.name} {person.number}\n            <button onClick={() => handleDelete(person)}>delete</button>\n          </li>\n      )}\n    </ul>\n  )\n}\n\nexport default Persons;\n","const Notification = ({ notification }) => {\n  if (notification === null) {\n    return null\n  }\n\n  return (\n    notification.type === 'error'\n    ?\n      <div className=\"error\">\n        {notification.message}\n      </div>\n    :\n      <div className=\"success\">\n        {notification.message}\n      </div>\n  )\n}\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\nimport phonebookService from './services/phonebook';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons ] = useState([]);\n  const [newPerson, setNewPerson] = useState(\n    { name: '', number: ''}\n  )\n  const [filter, setFilter] = useState('');\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then((initialPersons) => setPersons(initialPersons))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    phonebookService\n      .create(newPerson)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewPerson({ name: '', number: ''});\n        setNotification({\n          type: 'success',\n          message: `Added ${newPerson.name}`\n        });\n        setTimeout(() => {\n          setNotification(null);\n        }, 3000)\n      })\n      .catch((error) => {\n        setNotification({\n          type: 'error',\n          message: error.response.data.error\n        });\n        setTimeout(() => {\n          setNotification(null);\n        }, 3000)\n      })\n  }\n\n  const handleDelete = (personObject) => {\n    if (window.confirm(`Delete ${personObject.name}`)) {\n      phonebookService\n      .remove(personObject.id)\n      .then((deletedPerson) => {\n        setPersons(persons.filter((person) => person.id !== personObject.id));\n      }).catch((error) => {\n        setNotification({\n          type: 'error',\n          message: `${personObject.name} was already deleted from the server`\n        });\n        setPersons(persons.filter(person => person.id !== personObject.id));\n        setTimeout(() => {\n          setNotification(null);\n        }, 3000)\n      })\n    }\n  }\n\n\n  const handlePersonFormChange = (event) => {\n    setNewPerson(({\n      ...newPerson,\n      [event.target.name]: event.target.value }\n    ));\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  }\n\n  return (\n    <div>\n      <Notification notification={notification} />\n      <h2>Phonebook</h2>\n      <Filter\n        filter={filter}\n        handleFilterChange={handleFilterChange}\n      />\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newPerson={newPerson}\n        handlePersonFormChange={handlePersonFormChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filter={filter}\n        handleDelete={handleDelete}\n      />\n    </div>\n  )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}